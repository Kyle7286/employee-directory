(this["webpackJsonpemployee-directory"]=this["webpackJsonpemployee-directory"]||[]).push([[0],{48:function(e,t,a){"use strict";a.r(t);var n=a(15),s=a.n(n),r=a(1),c=a(6),o=a.n(c),l=a(16),i=a(4),b=a(17),d=a(18),h=a(19),j=a(22),u=a(21),m=a(20),x=a.n(m),O={search:function(){return x.a.get("https://randomuser.me/api/?results=100&inc=picture,name,phone,email,dob&nat=us")}},p={sortTable:function(e,t,a){switch(e){case"Name":return t.sort(f(a,e.toLowerCase(),"first"));case"DOB":return t.sort(f(a,e.toLowerCase(),"date"));default:return t.sort(f(a,e.toLowerCase()))}}},f=function(e,t,a){return function(n,s){return a?"0"===e||"-1"===e?n[t][a]===s[t][a]?0:n[t][a]<s[t][a]?-1:1:s[t][a]===n[t][a]?0:s[t][a]<n[t][a]?-1:1:"0"===e||"-1"===e?n[t]===s[t]?0:n[t]<s[t]?-1:1:s[t]===n[t]?0:s[t]<n[t]?-1:1}},g=p,v=a(0);var w=function(){return Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"jumbotron jumbotron-fluid text-center bg-dark mb-4",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h1",{className:"display-4 font-weight-bold text-success",children:"Employee Directory"}),Object(v.jsx)("p",{className:"lead text-white",children:"Click on column headers to sort or use the search box to filter your results."})]})})})};var S=function(e){return Object(v.jsx)("form",{className:"search w-25 m-auto",children:Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{className:"form-control",type:"text",placeholder:"Filter...",id:"search",onChange:e.handleInputChange})})})},N=a(3);var C=function(e){return Object(v.jsxs)("table",{className:"table table-striped mt-5",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",className:"text-center",children:Object(v.jsx)("button",{onClick:e.handleTableHeaderClick,className:"btn font-weight-bold shadow-none",children:"Image"})}),Object(v.jsxs)("th",{scope:"col",className:"text-center",children:[Object(v.jsx)("button",{"data-sortid":e.nameSort,onClick:e.handleTableHeaderClick,className:"btn font-weight-bold shadow-none",children:"Name"}),"1"===e.nameSort?Object(v.jsx)(N.b,{}):Object(v.jsx)(N.a,{})]}),Object(v.jsxs)("th",{scope:"col",className:"text-center",children:[Object(v.jsx)("button",{"data-sortid":e.emailSort,onClick:e.handleTableHeaderClick,className:"btn font-weight-bold shadow-none",children:"Email"}),"1"===e.emailSort?Object(v.jsx)(N.b,{}):Object(v.jsx)(N.a,{})]}),Object(v.jsxs)("th",{scope:"col",className:"text-center",children:[Object(v.jsx)("button",{"data-sortid":e.phoneSort,onClick:e.handleTableHeaderClick,className:"btn font-weight-bold shadow-none",children:"Phone"}),"1"===e.phoneSort?Object(v.jsx)(N.b,{}):Object(v.jsx)(N.a,{})]}),Object(v.jsxs)("th",{scope:"col",className:"text-center",children:[Object(v.jsx)("button",{"data-sortid":e.dobSort,onClick:e.handleTableHeaderClick,className:"btn font-weight-bold shadow-none",children:"DOB"}),"1"===e.dobSort?Object(v.jsx)(N.b,{}):Object(v.jsx)(N.a,{})]})]})}),Object(v.jsx)("tbody",{className:"",children:e.results.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"image text-center",children:Object(v.jsx)("img",{alt:"employee profile",src:e.picture.thumbnail})}),Object(v.jsxs)("td",{className:"name  text-center pt-4",children:[e.name.first," ",e.name.last]}),Object(v.jsx)("td",{className:"email text-center pt-4",children:e.email}),Object(v.jsx)("td",{className:"phone text-center pt-4",children:e.phone}),Object(v.jsx)("td",{className:"dob text-center pt-4",children:e.dob.convertDOB})]},e.phone)}))})]})},k=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={staticResults:[],visibleResults:[],search:"",nameSort:"0",emailSort:"0",phoneSort:"0",dobSort:"0"},e.handleTableHeaderClick=function(){var t=Object(b.a)(o.a.mark((function t(a){var n,s,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,g.sortTable(a.target.innerHTML,Object(i.a)(e.state.visibleResults),a.target.getAttribute("data-sortid"));case 3:n=t.sent,s="0"===(s=a.target.getAttribute("data-sortid"))||"-1"===s?"1":"-1",r=a.target.innerHTML.toLowerCase()+"Sort",n&&e.setState(Object(l.a)({visibleResults:Object(i.a)(n)},r,s));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleInputChange=function(t){e.setState({search:t.target.value});var a=t.target.value,n=Object(i.a)(e.state.staticResults).filter((function(e){return(e.name.first+" "+e.name.last).match(new RegExp(a,"gi"))||e.phone.match(new RegExp(a,"gi"))||e.email.match(new RegExp(a,"gi"))}));n&&e.setState({visibleResults:n})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getEmployees()}},{key:"getEmployees",value:function(){var e=this;O.search().then((function(t){var a=e.convertDOB(Object(i.a)(t.data.results));e.setState({staticResults:Object(i.a)(a),visibleResults:Object(i.a)(a)})})).catch((function(e){return console.log(e)}))}},{key:"convertDOB",value:function(e){return e.forEach((function(e){var t=e.dob.date,a=new Date(t).toLocaleDateString("en-US",{month:"long",year:"numeric"});e.dob.convertDOB=a})),e}},{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(w,{}),Object(v.jsx)(S,{handleInputChange:this.handleInputChange}),Object(v.jsx)(C,{results:this.state.visibleResults,handleTableHeaderClick:this.handleTableHeaderClick,nameSort:this.state.nameSort,emailSort:this.state.emailSort,phoneSort:this.state.phoneSort,dobSort:this.state.dobSort})]})}}]),a}(r.Component);var y=function(){return Object(v.jsx)(k,{})};a(47);s.a.render(Object(v.jsx)(y,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.606f4640.chunk.js.map